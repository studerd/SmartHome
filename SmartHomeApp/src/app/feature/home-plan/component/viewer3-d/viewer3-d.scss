/* --- EXISTANT --- */
.viewer { position: relative; width: 100%; height: 100%; min-height: 480px; background:transparent; overflow: hidden; }
canvas { display:block; width:100%; height:100%; }
.hud { position:absolute; inset:auto 12px 12px 12px; display:flex; gap:16px; align-items:center; justify-content:space-between; color:#c8d0d9; font: 13px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; pointer-events:none; }
.hint { opacity:0.9; }
.legend { display:flex; align-items:center; gap:10px; }
.dot { inline-size:10px; block-size:10px; border-radius:999px; display:inline-block; border:1px solid rgba(255,255,255,.25); }
.dot.on { background:#ffe08a; }
.dot.off { background:#2d3643; }

/* --- AJOUTS (toolbar + utilitaires) --- */

/* Supporte deux conventions de classes : .viewer3d-* et .viewer-*
   -> Si tu gardes .viewer comme conteneur, ça fonctionne pareil. */
.viewer3d-container,
.viewer {
  position: relative;
}

/* Canvas déjà couvert par le sélecteur global, mais on ajoute la classe dédiée si tu l’emploies */
.viewer3d-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

/* Toolbar flottante (haut-gauche) */
.viewer3d-toolbar,
.viewer-toolbar {
  position: absolute;
  top: 12px;
  left: 12px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
  z-index: 10;

  /* “verre dépoli” discret */
  background: rgba(10, 14, 20, 0.55);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 10px;
  padding: 8px;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  pointer-events: auto; /* contrairement à .hud */
}

/* Boutons de la toolbar */
.viewer3d-toolbar button,
.viewer-toolbar button {
  appearance: none;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(240, 242, 245, 0.9);
  color: #0b0f14;
  font: 12px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  white-space: nowrap;
  transition: transform .08s ease, background-color .15s ease, border-color .15s ease, box-shadow .15s ease;
}

.viewer3d-toolbar button:hover,
.viewer-toolbar button:hover {
  background: #ffffff;
  border-color: rgba(0,0,0,0.12);
  box-shadow: 0 1px 4px rgba(0,0,0,0.15);
}

.viewer3d-toolbar button:active,
.viewer-toolbar button:active {
  transform: translateY(1px) scale(0.98);
}

/* Variante “ghost” si tu veux ajouter <button class="ghost">… */
.viewer3d-toolbar button.ghost,
.viewer-toolbar button.ghost {
  background: transparent;
  color: #c8d0d9;
  border-color: rgba(255,255,255,0.18);
}
.viewer3d-toolbar button.ghost:hover,
.viewer-toolbar button.ghost:hover {
  background: rgba(255,255,255,0.06);
}

/* Petits badges d’état si besoin */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  font: 11px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: #c8d0d9;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}

/* Séparateur mince pour organiser la toolbar */
.sep {
  inline-size: 1px;
  block-size: 18px;
  background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.25), transparent);
  margin-inline: 4px;
}

/* Priorités d’empilement : HUD en bas, toolbar au-dessus */
.hud { z-index: 5; }
.viewer3d-toolbar, .viewer-toolbar { z-index: 10; }

/* Utilitaire: masque un bloc (sans retirer du flux) */
.is-hidden { display: none !important; }

/* Responsive: réduit la densité sur petits écrans */
@media (max-width: 640px) {
  .viewer3d-toolbar, .viewer-toolbar {
    right: 12px; /* autorise le wrap */
    gap: 6px;
    padding: 6px;
  }
  .viewer3d-toolbar button, .viewer-toolbar button {
    padding: 5px 8px;
    font-size: 11px;
  }
}
.viewer3d-container {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 480px;           /* <- important */
  background: transparent;
  overflow: hidden;
}
